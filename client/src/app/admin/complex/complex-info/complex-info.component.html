<form
  [formGroup]="complexInfoForm"
  (ngSubmit)="createUpdateComplex()"
  autocomplete="off"
>
    <mat-card class="mat-elevation-z8">
            <mat-card-content>
        <h2 class="text-left text-primary">Complex Details</h2>
        <hr />

        <div class="mb-3 form-floating">
          <app-text-input
            [formControl]="$any(complexInfoForm.controls['name'])"
            [label]="'Name'"
            [(ngModel)]="this.model.name"
          ></app-text-input>
          <app-text-input
            [formControl]="$any(complexInfoForm.controls['addressline1'])"
            [label]="'Address Line 1'"
            [(ngModel)]="this.model.addressLine1"
          >
          </app-text-input>

          <app-text-input
            [formControl]="$any(complexInfoForm.controls['addressline2'])"
            [label]="'Address Line 2'"
            [(ngModel)]="this.model.addressLine2"
          >
          </app-text-input>

          <app-text-input
            [formControl]="$any(complexInfoForm.controls['suburb'])"
            [label]="'Suburb'"
            [(ngModel)]="this.model.suburb"
          >
          </app-text-input>
          <app-text-input
            [formControl]="$any(complexInfoForm .controls['city'])"
            [label]="'City'"
            [(ngModel)]="this.model.city"
          >
          </app-text-input>

          <app-text-input
            [formControl]="$any(complexInfoForm.controls['province'])"
            [label]="'Province'"
            [(ngModel)]="this.model.province"
          >
          </app-text-input>

          <app-text-input
            [formControl]="$any(complexInfoForm.controls['postalcode'])"
            [label]="'Postal Code'"
            [(ngModel)]="this.model.postalCode"
          >
          </app-text-input>
        </div>

        @if (validationErrors) {
        <div class="alert alert-danger text-start">
          <ul>
            @for (error of validationErrors; track $index) {
            <li>{{ error }}</li>
            }
          </ul>
        </div>
        }

        <div class="form-group text-left">
          <button 
            [disabled]="!complexInfoForm.valid && !complexInfoForm.dirty"
            class="btn btn-success me-2"
            type="submit"
          >
            Submit
          </button>
          <button class="btn btn-default me-2" (click)="cancel()" type="button" cdkFocusInitial>
            Cancel
          </button>
        </div>
      </mat-card-content>
    </mat-card>
</form>
